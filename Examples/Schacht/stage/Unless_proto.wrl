#VRML V2.0 utf8

PROTO Unless [
  exposedField  SFBool    value		TRUE
  eventOut      SFTime    touchTime		
]
{
  PROTO Data [
    exposedField  SFBool    value		TRUE
  ]
  {
    Group { }
  }

  DEF _unless Script { 
    eventOut  SFTime    touchTime IS touchTime
    eventIn   SFBool    set_value
    field     SFNode    data DEF Data Data { 
      value IS value
    }
    url "vrmlscript:
function set_value(value, time) { if (!value) touchTime = time; }
function initialize() { set_value(data.value, 0); }
"
    directOutput TRUE
  }

  ROUTE Data.value_changed TO _unless.set_value
}

